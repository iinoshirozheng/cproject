#!/usr/bin/env bash
set -euo pipefail

# Try compiled binary in repo, then system one.
if [[ -x "$(dirname "$0")/../target/debug/cproject" ]]; then
  exec "$(dirname "$0")/../target/debug/cproject" "$@"
fi

if command -v cproject >/dev/null 2>&1; then
  exec cproject "$@"
fi

echo "cproject binary not found. Run 'cargo build' first."
exit 1
